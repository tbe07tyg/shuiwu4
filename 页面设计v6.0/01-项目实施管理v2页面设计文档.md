# 项目实施管理v2页面设计文档

## 1. 页面概述

### 1.1 设计背景
基于客户反馈，现有项目实施管理页面过分依赖进度条展示，缺乏对项目实质性内容的关注。新版本将以申报书内容为核心，采用横向选项卡的分步骤管理方式，强化对研究内容、技术路线和阶段性成果的管理。

### 1.2 核心理念
- **内容驱动**：以申报书的研究内容和技术路线为任务分解依据
- **成果导向**：关注阶段性总结、小报告等实质性产出
- **分步管理**：通过横向选项卡实现分步骤的项目管理流程
- **智能分析**：对成员提交内容进行实质性审查和进度评估
- **弱化进度**：进度条仅作为辅助参考，不作为主要评估标准

### 1.3 页面定位
项目经理专用的项目实施管理中心，基于申报书内容进行智能化分步骤项目管理。

## 2. 功能需求分析

### 2.1 核心管理流程（5个步骤）

#### 第一步：团队配置
- 项目团队成员管理
- 角色和权限分配
- 成员专长和能力评估
- 团队协作关系设定

#### 第二步：申报书内容解析
- 自动解析立项申报书内容
- 提取技术路线关键信息
- 支持对技术路线的二次编辑和完善
- 处理申报书格式不规范的情况

#### 第三步：智能任务拆解
- 根据技术路线智能拆解任务
- 支持针对任务的二次分解（参考小说推文的分镜拆解方式）
- 为每个任务添加完成计划和截止时间
- 设定提报格式要求（包括是否提交附件、提报格式等）
- 动态生成任务提交模板（动态标题+富文本编辑框+附件上传）

#### 第四步：任务分配
- 根据拆解的任务指派团队成员
- 明确任务负责人和协作人员
- 设定任务优先级和依赖关系
- 通知被指派的团队成员

#### 第五步：进展监控与审查
- 观察整体任务进展情况
- 查看各团队成员的每周阶段性工作提报
- 支持点击审查，弹窗详细查看成员提交内容
- 进行实质性内容审查和质量评估

### 2.2 数据流程
```
团队配置 → 申报书解析 → 任务拆解 → 任务分配 → 进展监控 → 成果审查
```

## 3. 页面结构设计

### 3.1 整体布局（横向选项卡式）
```
┌─────────────────────────────────────────────────────────────┐
│                        页面头部                              │
│  项目实施管理v2 | 基于申报书内容的分步骤项目管理              │
├─────────────────────────────────────────────────────────────┤
│                      项目选择区                              │
│  [项目下拉选择] [当前步骤进度] [整体完成度] [快速跳转]        │
├─────────────────────────────────────────────────────────────┤
│                    横向选项卡导航                            │
│ [1.团队配置] [2.申报书解析] [3.任务拆解] [4.任务分配] [5.进展监控] │
├─────────────────────────────────────────────────────────────┤
│                      选项卡内容区                            │
│                                                             │
│                    当前选项卡对应的功能界面                   │
│                                                             │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 3.2 选项卡详细设计

#### 3.2.1 第一步：团队配置选项卡
**功能**：
- 项目团队成员管理和配置
- 成员角色和权限分配
- 专长能力评估和匹配
- 团队协作关系设定

**界面元素**：
```
┌─────────────────────────────────────────────────────────────┐
│ 👥 团队配置                                                  │
├─────────────────────────────────────────────────────────────┤
│ 项目经理：张三 (当前用户)                                    │
│                                                             │
│ 团队成员配置：                                               │
│ ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐ │
│ │ 李四 (技术负责人) │ │ 王五 (开发工程师) │ │ 赵六 (测试工程师) │ │
│ │ 专长：系统架构   │ │ 专长：前端开发   │ │ 专长：质量保证   │ │
│ │ 工作负荷：80%   │ │ 工作负荷：60%   │ │ 工作负荷：70%   │ │
│ │ [编辑] [移除]   │ │ [编辑] [移除]   │ │ [编辑] [移除]   │ │
│ └─────────────────┘ └─────────────────┘ └─────────────────┘ │
│                                                             │
│ [添加成员] [批量导入] [保存配置]                              │
└─────────────────────────────────────────────────────────────┘
```

#### 3.2.2 第二步：申报书内容解析选项卡
**功能**：
- 自动解析立项申报书内容
- 提取和展示技术路线
- 支持技术路线的二次编辑
- 处理格式不规范的申报书

**界面元素**：
```
┌─────────────────────────────────────────────────────────────┐
│ 📋 申报书内容解析                                            │
├─────────────────────────────────────────────────────────────┤
│ 申报书信息：                                                 │
│ • 项目名称：XXX科研项目                                      │
│ • 研究周期：24个月                                           │
│ • 总预算：100万元                                           │
│                                                             │
│ 技术路线解析结果：                                           │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 1. 需求分析与调研 (3个月)                                │ │
│ │    - 用户需求调研                                       │ │
│ │    - 技术可行性分析                                     │ │
│ │    - 竞品分析报告                                       │ │
│ │                                                         │ │
│ │ 2. 系统设计与架构 (4个月)                                │ │
│ │    - 系统架构设计                                       │ │
│ │    - 数据库设计                                         │ │
│ │    - 接口设计                                           │ │
│ │                                                         │ │
│ │ [编辑技术路线] [添加阶段] [重新解析]                      │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ [查看原始申报书] [保存修改] [下一步：任务拆解]                │
└─────────────────────────────────────────────────────────────┘
```

#### 3.2.3 第三步：智能任务拆解选项卡
**功能**：
- 根据技术路线智能拆解任务
- 支持任务的二次分解（分镜拆解方式）
- 设定任务完成计划和截止时间
- 配置提报格式要求

**界面元素**：
```
┌─────────────────────────────────────────────────────────────┐
│ 🧩 智能任务拆解                                              │
├─────────────────────────────────────────────────────────────┤
│ 基于技术路线的任务拆解：                                     │
│                                                             │
│ 阶段1：需求分析与调研                                        │
│ ├─ 任务1.1：用户需求调研                                     │
│ │  ├─ 子任务1.1.1：问卷设计 [截止：2025-02-15]              │
│ │  ├─ 子任务1.1.2：用户访谈 [截止：2025-02-28]              │
│ │  └─ 子任务1.1.3：需求整理 [截止：2025-03-10]              │
│ │  提报要求：[需要附件] [格式：调研报告+数据分析]            │
│ │  [编辑] [分解] [删除]                                     │
│ │                                                           │
│ ├─ 任务1.2：技术可行性分析                                   │
│ │  └─ 子任务1.2.1：技术调研 [截止：2025-03-20]              │
│ │  提报要求：[需要附件] [格式：技术分析报告]                 │
│ │  [编辑] [分解] [删除]                                     │
│                                                             │
│ [智能拆解] [手动添加任务] [批量设置截止时间] [保存拆解结果]   │
└─────────────────────────────────────────────────────────────┘
```

#### 3.2.4 第四步：任务分配选项卡
**功能**：
- 将拆解的任务分配给团队成员
- 设定任务优先级和依赖关系
- 明确负责人和协作人员
- 发送任务通知

**界面元素**：
```
┌─────────────────────────────────────────────────────────────┐
│ 📋 任务分配                                                  │
├─────────────────────────────────────────────────────────────┤
│ 待分配任务列表：                                             │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 任务1.1：用户需求调研                                    │ │
│ │ 负责人：[选择成员▼] 协作人：[选择成员▼]                   │ │
│ │ 优先级：[高▼] 依赖任务：[无▼]                            │ │
│ │ 预计工时：40小时 截止时间：2025-02-28                    │ │
│ │ [分配] [编辑]                                           │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 任务1.2：技术可行性分析                                  │ │
│ │ 负责人：李四 协作人：王五                                │ │
│ │ 优先级：中 依赖任务：任务1.1                             │ │
│ │ 预计工时：60小时 截止时间：2025-03-20                    │ │
│ │ 状态：已分配 ✅                                         │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ 成员工作负荷：                                               │
│ 李四：85% ████████▌ 王五：70% ███████ 赵六：60% ██████      │
│                                                             │
│ [智能分配] [批量分配] [发送通知] [查看甘特图]                │
└─────────────────────────────────────────────────────────────┘
```

#### 3.2.5 第五步：进展监控与审查选项卡
**功能**：
- 观察整体任务进展情况
- 查看成员每周工作提报
- 点击审查成员提交内容
- 进行实质性内容审查

**界面元素**：
```
┌─────────────────────────────────────────────────────────────┐
│ 📊 进展监控与审查                                            │
├─────────────────────────────────────────────────────────────┤
│ 整体进展概览：                                               │
│ 总任务：24个 已完成：8个 进行中：6个 待开始：10个            │
│ ████████░░░░░░░░░░░░ 33% (基于内容完成度)                   │
│                                                             │
│ 本周提报情况：                                               │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 李四 - 系统架构设计进展                                  │ │
│ │ 提交时间：2025-01-28 14:30                              │ │
│ │ 内容摘要：完成了核心模块的架构设计，包含...               │ │
│ │ 附件：架构设计文档v2.0.pdf                              │ │
│ │ 状态：待审查 [点击审查] [查看详情]                       │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 王五 - 前端开发进展                                      │ │
│ │ 提交时间：2025-01-28 16:45                              │ │
│ │ 内容摘要：完成了用户登录模块，正在进行...                 │ │
│ │ 附件：登录模块演示视频.mp4                               │ │
│ │ 状态：已审查 ✅ 评分：优秀                               │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ [批量审查] [导出进展报告] [发送提醒] [查看统计分析]          │
└─────────────────────────────────────────────────────────────┘
```



## 4. 交互设计

### 4.1 主要交互流程

#### 4.1.1 分步骤管理流程
1. **第一步：团队配置**
   - 项目经理配置团队成员
   - 设定成员角色和专长
   - 评估工作负荷和能力匹配
   - 完成后进入下一步

2. **第二步：申报书解析**
   - 系统自动加载申报书内容
   - 智能解析技术路线
   - 项目经理二次编辑和完善
   - 确认解析结果后进入下一步

3. **第三步：任务拆解**
   - 基于技术路线智能拆解任务
   - 支持任务的二次分解（分镜方式）
   - 设定截止时间和提报格式
   - 完成拆解后进入下一步

4. **第四步：任务分配**
   - 将拆解任务分配给团队成员
   - 设定优先级和依赖关系
   - 发送任务通知
   - 完成分配后进入下一步

5. **第五步：进展监控**
   - 实时监控任务进展
   - 审查成员提交内容
   - 进行质量评估和反馈
   - 持续循环监控过程

#### 4.1.2 选项卡切换交互
- 横向选项卡支持点击切换
- 未完成的步骤显示提示信息
- 已完成的步骤显示完成状态
- 支持快速跳转到任意步骤

#### 4.1.3 任务提交审查流程
1. 成员在工作台提交任务进展
2. 系统按照预设格式要求验证
3. 自动推送到项目经理审查台
4. 项目经理点击审查，弹窗显示详细内容
5. 进行实质性内容审查和评分
6. 给出审查意见和改进建议

### 4.2 关键交互特性

#### 4.2.1 智能化特性
- **自动解析**：申报书内容智能提取和结构化
- **智能分配**：基于成员专长和工作负荷的任务推荐
- **智能评估**：内容质量和进度完成度的自动评估

#### 4.2.2 可视化特性
- **技术路线图**：直观的流程图展示项目技术路线
- **进度热力图**：不同颜色表示各阶段完成状态
- **成员工作负荷图**：可视化展示成员任务分配情况

#### 4.2.3 协作化特性
- **实时同步**：与团队成员工作台v2实时数据同步
- **消息推送**：任务分配、审查结果等及时通知
- **协作评论**：支持在任务和成果上进行协作讨论

## 5. 数据结构设计

### 5.1 项目管理步骤数据结构
```javascript
{
  projectId: "P001",
  managementSteps: {
    currentStep: 3, // 当前步骤
    steps: [
      {
        stepId: 1,
        name: "团队配置",
        status: "completed", // pending, in_progress, completed
        completedAt: "2025-01-25T10:00:00Z",
        data: {
          teamMembers: [
            {
              userId: "user001",
              name: "李四",
              role: "技术负责人",
              skills: ["系统架构", "算法设计"],
              workload: 80, // 百分比
              capacity: 40 // 小时/周
            }
          ]
        }
      },
      {
        stepId: 2,
        name: "申报书解析",
        status: "completed",
        completedAt: "2025-01-26T14:00:00Z",
        data: {
          proposalDocument: {
            title: "XXX科研项目申报书",
            technicalRoute: [
              {
                id: "TR001",
                phase: "需求分析与调研",
                duration: 3, // 月
                description: "用户需求调研、技术可行性分析",
                subTasks: ["用户调研", "技术分析", "竞品分析"],
                expectedOutputs: ["需求分析报告", "可行性报告"]
              }
            ]
          }
        }
      }
    ]
  }
}
```

### 5.2 智能任务拆解数据结构
```javascript
{
  projectId: "P001",
  taskDecomposition: {
    basePhase: "TR001", // 基于的技术路线阶段
    tasks: [
      {
        taskId: "T001",
        title: "用户需求调研",
        level: 1, // 任务层级
        parentTaskId: null,
        subTasks: [
          {
            taskId: "T001-1",
            title: "问卷设计",
            level: 2,
            parentTaskId: "T001",
            deadline: "2025-02-15",
            estimatedHours: 16,
            submissionRequirements: {
              needAttachment: true,
              format: "调研问卷+设计说明",
              template: {
                sections: [
                  {
                    title: "问卷设计思路",
                    type: "richtext",
                    required: true
                  },
                  {
                    title: "问卷内容",
                    type: "attachment",
                    required: true,
                    acceptedTypes: [".pdf", ".docx"]
                  }
                ]
              }
            }
          }
        ],
        dependencies: [], // 依赖的任务ID
        priority: "high" // high, medium, low
      }
    ]
  }
}
```

### 5.3 任务分配数据结构
```javascript
{
  assignmentId: "ASG001",
  projectId: "P001",
  taskId: "T001-1",
  assignedTo: {
    primary: "user001", // 主要负责人
    collaborators: ["user002"] // 协作人员
  },
  assignedBy: "pm001",
  assignedAt: "2025-01-27T09:00:00Z",
  priority: "high",
  dependencies: ["T001-2"], // 依赖任务
  estimatedHours: 16,
  deadline: "2025-02-15",
  status: "assigned", // assigned, in_progress, submitted, reviewed
  notifications: {
    sent: true,
    sentAt: "2025-01-27T09:05:00Z",
    readBy: ["user001"]
  }
}
```

### 5.3 审查记录数据结构
```javascript
{
  reviewId: "REV001",
  taskId: "T001",
  submissionId: "SUB001",
  reviewedBy: "pm001",
  reviewTime: "2025-01-28T16:00:00Z",
  qualityAssessment: {
    contentCompleteness: 85, // 内容完整度
    technicalAccuracy: 90,   // 技术准确性
    innovationLevel: 75,     // 创新水平
    practicalValue: 80       // 实用价值
  },
  overallRating: "good", // excellent, good, fair, poor
  comments: "架构设计整体合理，建议在安全性方面进一步完善...",
  suggestions: [
    "增加安全架构设计",
    "完善性能优化方案"
  ],
  nextActions: [
    {
      action: "revision",
      deadline: "2025-02-05",
      description: "根据建议修改架构设计"
    }
  ]
}
```

## 6. 技术实现要点

### 6.1 前端技术栈
- **框架**：Vue 3 + Composition API
- **UI组件**：Ant Design Vue
- **状态管理**：Pinia
- **图表库**：ECharts (技术路线图、进度分析)
- **文档预览**：PDF.js、Office Online

### 6.2 关键技术特性

#### 6.2.1 申报书解析
```javascript
// 申报书内容智能解析
const parseProposalDocument = (documentContent) => {
  // 使用NLP技术提取关键信息
  const researchContent = extractResearchContent(documentContent)
  const technicalRoute = extractTechnicalRoute(documentContent)
  const expectedResults = extractExpectedResults(documentContent)
  
  return {
    researchContent,
    technicalRoute,
    expectedResults
  }
}
```

#### 6.2.2 智能任务分解
```javascript
// 基于申报书内容的任务分解
const decomposeToTasks = (researchContent, technicalRoute) => {
  const tasks = []
  
  researchContent.forEach(content => {
    const relatedRoutes = technicalRoute.filter(route => 
      route.relatedContent.includes(content.id)
    )
    
    const task = {
      id: generateTaskId(),
      title: content.title,
      description: content.description,
      expectedOutput: content.expectedOutput,
      technicalRoutes: relatedRoutes,
      estimatedDuration: content.duration,
      priority: content.priority
    }
    
    tasks.push(task)
  })
  
  return tasks
}
```

#### 6.2.3 内容质量评估
```javascript
// 提交内容的质量评估算法
const assessContentQuality = (submission, requirements) => {
  const assessment = {
    contentCompleteness: calculateCompleteness(submission, requirements),
    technicalAccuracy: assessTechnicalAccuracy(submission),
    innovationLevel: assessInnovation(submission),
    practicalValue: assessPracticalValue(submission)
  }
  
  const overallScore = (
    assessment.contentCompleteness * 0.3 +
    assessment.technicalAccuracy * 0.3 +
    assessment.innovationLevel * 0.2 +
    assessment.practicalValue * 0.2
  )
  
  return {
    ...assessment,
    overallScore,
    overallRating: getQualityRating(overallScore)
  }
}
```

## 7. 样式设计规范

### 7.1 色彩方案
- **主色调**：#234fa2 (深蓝，体现专业性)
- **辅助色**：#4e7be6 (浅蓝，用于强调)
- **成功色**：#52c41a (绿色，完成状态)
- **警告色**：#faad14 (橙色，需要关注)
- **错误色**：#ff4d4f (红色，问题状态)
- **背景色**：#f5f8ff (浅蓝背景)

### 7.2 布局规范
- **卡片圆角**：12px
- **间距标准**：8px、16px、24px、32px
- **阴影效果**：0 2px 8px rgba(0,0,0,0.1)
- **字体大小**：12px、14px、16px、18px、24px

### 7.3 组件样式
```css
/* 主要卡片样式 */
.main-card {
  background: #fff;
  border-radius: 12px;
  padding: 24px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  margin-bottom: 24px;
}

/* 模块标题样式 */
.module-title {
  font-size: 18px;
  font-weight: 600;
  color: #234fa2;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 8px;
}

/* 状态标签样式 */
.status-tag {
  padding: 4px 12px;
  border-radius: 16px;
  font-size: 12px;
  font-weight: 500;
}

.status-completed { background: #f6ffed; color: #52c41a; }
.status-inprogress { background: #e6f7ff; color: #1890ff; }
.status-pending { background: #fff7e6; color: #faad14; }
.status-warning { background: #fff2f0; color: #ff4d4f; }
```

## 8. 响应式设计

### 8.1 断点设置
- **大屏**：≥1200px (3列布局)
- **中屏**：768px-1199px (2列布局)
- **小屏**：<768px (1列布局)

### 8.2 移动端适配
- 模块卡片垂直堆叠
- 触摸友好的按钮尺寸
- 简化的操作界面
- 滑动查看更多内容

## 9. 性能优化

### 9.1 数据加载优化
- 分页加载大量任务数据
- 虚拟滚动处理长列表
- 图片和文档懒加载
- 缓存常用数据

### 9.2 渲染优化
- 使用Vue 3的响应式优化
- 组件懒加载和代码分割
- 防抖处理频繁操作
- 骨架屏提升用户体验

## 10. 安全性考虑

### 10.1 数据安全
- 敏感信息加密存储
- 用户权限严格控制
- 操作日志完整记录
- 数据备份和恢复

### 10.2 访问控制
- 基于角色的权限管理
- 项目数据隔离
- 审计日志监控
- 安全会话管理

## 11. 测试策略

### 11.1 功能测试
- 申报书解析准确性测试
- 任务分配流程测试
- 内容审查功能测试
- 数据同步一致性测试

### 11.2 性能测试
- 大量数据加载性能
- 并发用户访问测试
- 文档处理性能测试
- 移动端响应速度测试

## 12. 部署和维护

### 12.1 部署要求
- 支持Docker容器化部署
- 负载均衡和高可用配置
- 数据库性能优化
- CDN加速静态资源

### 12.2 维护计划
- 定期数据备份
- 系统性能监控
- 用户反馈收集
- 功能迭代更新

---

**文档版本**：v1.0  
**创建时间**：2025-01-29  
**更新时间**：2025-01-29  
**负责人**：项目设计团队
